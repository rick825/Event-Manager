{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./Signup.css';import{useNavigate}from'react-router-dom';import axios from'axios';import{useUserContext}from'../Dashboard/context/UserContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setLoggedIn}=_ref;const navigate=useNavigate();const[formData,setFormData]=useState({email:\"\",password:\"\"});const{setUserId}=useUserContext();useEffect(()=>{const storedUserId=localStorage.getItem('userId');console.log(\"Sored user Id-->\",storedUserId);if(storedUserId){setUserId(storedUserId);setLoggedIn(true);}},[setUserId,setLoggedIn]);const handleInputChange=e=>{const{name,value}=e.target;console.log(\"Login Form Data:\",formData);setFormData({...formData,[name]:value});};const handleSubmit=async e=>{e.preventDefault();try{console.log(\"Login Form Data:\",formData);const response=await axios.post('/api/login',formData,{headers:{\"Content-Type\":\"application/json\"}});if(response.status===200){localStorage.setItem('userId',response.data);setUserId(response.data);console.log(response.data);setLoggedIn(true);navigate('/user');}else{console.error('Login failed');}}catch(error){console.log(\"Error While Login:-->\",error);navigate('/registration');}};const Signup=()=>{console.log(\"Signup\");navigate('/registration');};return/*#__PURE__*/_jsxs(\"div\",{class:\"loginsec\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"leftlogin logs\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"llup\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"W\"}),\"elcome,\"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Kindly \",/*#__PURE__*/_jsx(\"span\",{children:\"Login!!\"})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"lldown\",children:/*#__PURE__*/_jsx(\"div\",{class:\"lldown-box\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"ecchart ecm\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"ecc1 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc2 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc3 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc4 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc5 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc6 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc7 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc8 ecc\"}),/*#__PURE__*/_jsx(\"div\",{class:\"ecc2 ecc\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"rightlogin logs\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,method:\"post\",class:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"Enter Your Email ID\",value:formData.email,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter Your Password\",value:formData.password,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"div\",{class:\"alsign\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Not a User Please \",/*#__PURE__*/_jsx(\"a\",{className:\"regisbutton\",onClick:Signup,children:\"Sign Up\"})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","useUserContext","jsx","_jsx","jsxs","_jsxs","Login","_ref","setLoggedIn","navigate","formData","setFormData","email","password","setUserId","storedUserId","localStorage","getItem","console","log","handleInputChange","e","name","value","target","handleSubmit","preventDefault","response","post","headers","status","setItem","data","error","Signup","class","children","onSubmit","method","for","type","placeholder","onChange","required","className","onClick"],"sources":["F:/Work/Prepinsta/Project/event-manager/src/component/presentational/Registration/Login.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport './Signup.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useUserContext } from '../Dashboard/context/UserContext';\r\n\r\nconst Login = ({ setLoggedIn }) => {\r\n    const navigate = useNavigate(); \r\n    \r\n    const [formData, setFormData] = useState({\r\n      email: \"\", password: \"\"\r\n    });\r\n\r\n    const { setUserId } = useUserContext();\r\n\r\n    useEffect(() => {\r\n      const storedUserId = localStorage.getItem('userId');\r\n      console.log(\"Sored user Id-->\",storedUserId);\r\n      if (storedUserId) {\r\n          setUserId(storedUserId);\r\n          setLoggedIn(true);\r\n      }\r\n  }, [setUserId, setLoggedIn]);\r\n    \r\n    const handleInputChange = (e) =>{\r\n        const {name, value} = e.target;\r\n        console.log(\"Login Form Data:\",formData);\r\n        setFormData({\r\n          ...formData,\r\n          [name]:value\r\n        })\r\n    }\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      try {\r\n          console.log(\"Login Form Data:\", formData);\r\n          const response = await axios.post('/api/login', formData, {\r\n              headers: {\r\n                  \"Content-Type\": \"application/json\"\r\n              }\r\n          });\r\n          if (response.status === 200) {\r\n              localStorage.setItem('userId', response.data);\r\n              setUserId(response.data);\r\n              console.log(response.data);\r\n              setLoggedIn(true);\r\n              navigate('/user');\r\n          } else {\r\n              console.error('Login failed');\r\n          }\r\n      } catch (error) {\r\n          console.log(\"Error While Login:-->\", error);\r\n          navigate('/registration');\r\n      }\r\n  }\r\n  \r\n\r\n\r\n\r\n    const Signup = () =>{\r\n        console.log(\"Signup\");\r\n        navigate('/registration');\r\n    } \r\n\r\n  return (\r\n    <div class=\"loginsec\">\r\n          \r\n    <div class=\"leftlogin logs\">\r\n      <div class=\"llup\">\r\n        <h1><span>W</span>elcome,</h1>\r\n        <h2>Kindly <span>Login!!</span></h2>\r\n      </div>\r\n       <div class=\"lldown\">\r\n         <div class=\"lldown-box\">\r\n          <div class=\"ecchart ecm\">\r\n            <div class=\"ecc1 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc2 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc3 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc4 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc5 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc6 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc7 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc8 ecc\">\r\n\r\n            </div>\r\n            <div class=\"ecc2 ecc\">\r\n\r\n            </div>\r\n          </div>\r\n         </div>\r\n       </div>\r\n    </div>\r\n    <div class=\"rightlogin logs\">\r\n      <form onSubmit={handleSubmit} method=\"post\" class=\"form\">\r\n         <label for=\"email\">Email</label>\r\n         <input type=\"text\" name=\"email\" placeholder=\"Enter Your Email ID\" value={formData.email} onChange={handleInputChange} required/>\r\n         <label for=\"password\">Password</label>\r\n         <input type=\"password\" name=\"password\" placeholder=\"Enter Your Password\" value={formData.password} onChange={handleInputChange} required/>\r\n         <div class=\"alsign\">\r\n          <p>Not a User Please <a className='regisbutton' onClick={Signup}>Sign Up</a></p>\r\n         </div>\r\n         <input type=\"submit\" value=\"Submit\" />\r\n      </form>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
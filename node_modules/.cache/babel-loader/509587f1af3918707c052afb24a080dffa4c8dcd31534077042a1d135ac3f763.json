{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./Profile.css';import{useUserContext}from'../context/UserContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{UserId}=useUserContext();const[file,setFile]=useState(null);const[showEventForm,setShowEventForm]=useState(false);const handleFileChange=event=>{setFile(event.target.files[0]);};const handleUpload=async e=>{try{e.preventDefault();const formData=new FormData();formData.append('image',file);formData.append('UserId',UserId);console.log('User Id->',UserId);console.log('User Photo->',file);await axios.post('/api/uploadPhoto',formData,{headers:{'Content-Type':'multipart/form-data'}});console.log('Image uploaded successfully');alert('Image uploaded successfully');}catch(error){console.error('Error uploading image:',error);alert('Error uploading image. Please try again later.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dash profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-top profile-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-top-head\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://images.pexels.com/photos/1029604/pexels-photo-1029604.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-cover-button profile-button\",children:/*#__PURE__*/_jsx(\"button\",{children:\"\\uD83D\\uDD8B Edit Cover\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-top-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-pic\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic-main\",children:/*#__PURE__*/_jsx(\"img\",{src:file,alt:\"No Photo Uploaded\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic-button profile-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEventForm(true),children:\"+\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Akash Kumar Das\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Phone:-\"}),\" +91 9693195907\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email:-\"}),\" rickak825@gmail.com\"]})]})]}),showEventForm&&/*#__PURE__*/_jsx(\"div\",{className:\"addform\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,className:\"eventform\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formhead\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please Enter below Details:-\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"Close\",onClick:()=>setShowEventForm(false),children:\"X\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".png, .jpg, .jpeg\",name:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{children:\"Upload\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-bot profile-cont\"})]});};export default Profile;","map":{"version":3,"names":["React","useState","axios","useUserContext","jsx","_jsx","jsxs","_jsxs","Profile","UserId","file","setFile","showEventForm","setShowEventForm","handleFileChange","event","target","files","handleUpload","e","preventDefault","formData","FormData","append","console","log","post","headers","alert","error","className","children","src","alt","onClick","onSubmit","type","accept","name","onChange"],"sources":["F:/Work/Prepinsta/Project/event-manager/src/component/presentational/Dashboard/Profile/Profile.js"],"sourcesContent":["import React,{useState} from 'react';\r\nimport axios  from 'axios';\r\nimport './Profile.css';\r\nimport { useUserContext } from '../context/UserContext';\r\n\r\nconst Profile = () => {\r\n\r\n  const {UserId} = useUserContext();\r\n  const [file, setFile] = useState(null);\r\n  const [showEventForm, setShowEventForm] = useState(false);\r\n\r\n  const handleFileChange = (event) => {\r\n    setFile(event.target.files[0]);\r\n  };\r\n\r\n \r\n  const handleUpload = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const formData = new FormData();\r\n      formData.append('image', file);\r\n      formData.append('UserId', UserId);\r\n      console.log('User Id->',UserId);\r\n      console.log('User Photo->', file);\r\n      await axios.post('/api/uploadPhoto', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n  \r\n      console.log('Image uploaded successfully');\r\n      alert('Image uploaded successfully');\r\n    } catch (error) {\r\n      console.error('Error uploading image:', error);\r\n      alert('Error uploading image. Please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='dash profile'>\r\n      {/* profile top */}\r\n      <div className=\"profile-top profile-cont\">\r\n         <div className=\"profile-top-head\">\r\n         <img src=\"https://images.pexels.com/photos/1029604/pexels-photo-1029604.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"\" />\r\n           <div className=\"edit-cover-button profile-button\">\r\n             <button>ðŸ–‹ Edit Cover</button>\r\n           </div>\r\n         </div>\r\n          <div className=\"profile-top-info\">\r\n             \r\n             <div className=\"profile-pic\">\r\n                <div className=\"profile-pic-main\">\r\n                  <img src={file} alt=\"No Photo Uploaded\" />\r\n                </div>\r\n                <div className=\"profile-pic-button profile-button\">\r\n                  <button onClick={()=>setShowEventForm(true)}>+</button>\r\n                </div>\r\n             </div>\r\n             <div className=\"profile-info\">\r\n               <h2>Akash Kumar Das</h2>\r\n               <p><span>Phone:-</span> +91 9693195907</p>\r\n               <p><span>Email:-</span> rickak825@gmail.com</p>\r\n             </div>\r\n\r\n          </div>\r\n        { showEventForm &&  <div className=\"addform\">\r\n           <form onSubmit={handleUpload} className='eventform'>\r\n            <div className=\"formhead\">\r\n            <h2>Please Enter below Details:-</h2>\r\n            <h2 className='Close' onClick={() => setShowEventForm(false)} >X</h2>\r\n           </div>\r\n      \r\n           <input type=\"file\" accept=\".png, .jpg, .jpeg\" name=\"file\" onChange={handleFileChange} />\r\n            <button>Upload</button>\r\n           </form>\r\n        </div>}\r\n\r\n      </div>\r\n      {/* end profile top */}\r\n      {/* profile bot */}\r\n      <div className=\"profile-bot profile-cont\">\r\n\r\n      </div>\r\n      {/* end profile bot */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
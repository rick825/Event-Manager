{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import'./Profile.css';import{useUserContext}from'../context/UserContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{UserId}=useUserContext();const[file,setFile]=useState(null);const[showEventForm,setShowEventForm]=useState(false);const[user,setUser]=useState({});const handleFileChange=event=>{setFile(event.target.files[0]);};useEffect(()=>{axios.get(\"/api/getUserData/\".concat(UserId)).then(res=>{setUser(res.data);console.log('user data',res.data);}).catch(err=>console.error(\"Error getting user data\",err));},[file,UserId]);const handleUpload=async e=>{try{e.preventDefault();const formData=new FormData();formData.append('profile',file);formData.append('UserId',UserId);console.log('User Id->',UserId);console.log('User Photo->',file);await axios.post('/api/uploadPhoto',formData,{headers:{'Content-Type':'multipart/form-data'}});console.log('Image uploaded successfully');alert('Image uploaded successfully');}catch(error){console.error('Error uploading image:',error);alert('Error uploading image. Please try again later.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dash profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-top profile-cont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-top-head\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://images.pexels.com/photos/1029604/pexels-photo-1029604.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-cover-button profile-button\",children:/*#__PURE__*/_jsx(\"button\",{children:\"\\uD83D\\uDD8B Edit Cover\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-top-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-pic\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic-main\",children:/*#__PURE__*/_jsx(\"img\",{src:file,alt:\"No Photo Uploaded\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic-button profile-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEventForm(true),children:\"+\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Akash Kumar Das\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Phone:-\"}),\" +91 9693195907\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email:-\"}),\" rickak825@gmail.com\"]})]})]}),showEventForm&&/*#__PURE__*/_jsx(\"div\",{className:\"addform\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,className:\"eventform\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"formhead\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please Enter below Details:-\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"Close\",onClick:()=>setShowEventForm(false),children:\"X\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".png, .jpg, .jpeg\",name:\"profile\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{children:\"Upload\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-bot profile-cont\"})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","axios","useUserContext","jsx","_jsx","jsxs","_jsxs","Profile","UserId","file","setFile","showEventForm","setShowEventForm","user","setUser","handleFileChange","event","target","files","get","concat","then","res","data","console","log","catch","err","error","handleUpload","e","preventDefault","formData","FormData","append","post","headers","alert","className","children","src","alt","onClick","onSubmit","type","accept","name","onChange"],"sources":["F:/Work/Prepinsta/Project/event-manager/src/component/presentational/Dashboard/Profile/Profile.js"],"sourcesContent":["import React,{useEffect, useState} from 'react';\r\nimport axios  from 'axios';\r\nimport './Profile.css';\r\nimport { useUserContext } from '../context/UserContext';\r\n\r\nconst Profile = () => {\r\n\r\n  const {UserId} = useUserContext();\r\n  const [file, setFile] = useState(null);\r\n  const [showEventForm, setShowEventForm] = useState(false);\r\n  const [user, setUser] = useState({});\r\n\r\n  const handleFileChange = (event) => {\r\n    setFile(event.target.files[0]);\r\n  };\r\n\r\n  useEffect(()=>{\r\n      axios.get(`/api/getUserData/${UserId}`)\r\n        .then((res)=>{\r\n          setUser(res.data);\r\n          console.log('user data', res.data);\r\n        })\r\n        .catch((err)=>console.error(\"Error getting user data\", err));\r\n  },[file,UserId])\r\n\r\n \r\n  const handleUpload = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const formData = new FormData();\r\n      formData.append('profile', file);\r\n      formData.append('UserId', UserId);\r\n      console.log('User Id->',UserId);\r\n      console.log('User Photo->', file);\r\n      await axios.post('/api/uploadPhoto', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n  \r\n      console.log('Image uploaded successfully');\r\n      alert('Image uploaded successfully');\r\n    } catch (error) {\r\n      console.error('Error uploading image:', error);\r\n      alert('Error uploading image. Please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='dash profile'>\r\n      {/* profile top */}\r\n      <div className=\"profile-top profile-cont\">\r\n         <div className=\"profile-top-head\">\r\n         <img src=\"https://images.pexels.com/photos/1029604/pexels-photo-1029604.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\" alt=\"\" />\r\n           <div className=\"edit-cover-button profile-button\">\r\n             <button>ðŸ–‹ Edit Cover</button>\r\n           </div>\r\n         </div>\r\n          <div className=\"profile-top-info\">\r\n             \r\n             <div className=\"profile-pic\">\r\n                <div className=\"profile-pic-main\">\r\n                  <img src={file} alt=\"No Photo Uploaded\" />\r\n                </div>\r\n                <div className=\"profile-pic-button profile-button\">\r\n                  <button onClick={()=>setShowEventForm(true)}>+</button>\r\n                </div>\r\n             </div>\r\n             <div className=\"profile-info\">\r\n               <h2>Akash Kumar Das</h2>\r\n               <p><span>Phone:-</span> +91 9693195907</p>\r\n               <p><span>Email:-</span> rickak825@gmail.com</p>\r\n             </div>\r\n\r\n          </div>\r\n        { showEventForm &&  <div className=\"addform\">\r\n           <form onSubmit={handleUpload} className='eventform'>\r\n            <div className=\"formhead\">\r\n            <h2>Please Enter below Details:-</h2>\r\n            <h2 className='Close' onClick={() => setShowEventForm(false)} >X</h2>\r\n           </div>\r\n      \r\n           <input type=\"file\" accept=\".png, .jpg, .jpeg\" name=\"profile\" onChange={handleFileChange} />\r\n            <button>Upload</button>\r\n           </form>\r\n        </div>}\r\n\r\n      </div>\r\n      {/* end profile top */}\r\n      {/* profile bot */}\r\n      <div className=\"profile-bot profile-cont\">\r\n\r\n      </div>\r\n      {/* end profile bot */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}